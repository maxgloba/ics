<template>
  <header class="header">
    <div class="container">
      <button ref="audioBtn" class="audio" @click.prevent="play">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <audio controls ref="audio">
        <source src="/audio/drums.mp3" type="audio/mpeg">
        <source src="/audio/drums.ogg" type="audio/ogg">
      </audio>
      <nav class="header-menu">
        <nuxt-link to="/">
          <svg width="41" height="24" viewBox="0 0 41 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.9478 0H0.5V24H21.097L14.0434 14.6935C16.6199 13.4811 18.4104 10.8023 18.4104 7.69231C18.4104 3.44411 15.0693 0 10.9478 0Z" fill="#53E09F"/>
            <path d="M37.0835 10.8026C38.0935 9.65535 38.709 8.13251 38.709 6.46154C38.709 2.89303 35.9024 0 32.4403 0H21.9925V24H33.6343C37.4261 24 40.5 20.8314 40.5 16.9231C40.5 14.3107 39.1266 12.0285 37.0835 10.8026Z" fill="#53E09F"/>
          </svg>
        </nuxt-link>
        <nuxt-link to="/">
          <svg width="18" height="30" viewBox="0 0 18 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.66146 30H11.3847V16.9459H15.9157L16.8696 11.5323H11.6231V8.00221C11.6231 6.59006 12.3386 5.1779 14.7233 5.1779H17.1081V0.470718C17.1081 0.470718 14.9618 0 12.8155 0C8.52319 0 5.66146 2.58921 5.66146 7.29587V11.5323H0.891907V16.9459H5.66146V30Z" fill="#7B61FF"/>
          </svg>
        </nuxt-link>
        <nuxt-link to="/">
          <svg width="37" height="30" viewBox="0 0 37 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M36.9615 3.46154C35.5769 4.15385 34.1923 4.38462 32.5769 4.61538C34.1923 3.69231 35.3461 2.30769 35.8077 0.461538C34.4231 1.38461 32.8077 1.84615 30.9615 2.30769C29.5769 0.923077 27.5 0 25.4231 0C20.5769 0 16.8846 4.61538 18.0385 9.23077C11.8077 9 6.26922 6 2.34614 1.38462C0.269221 4.84615 1.42307 9.23077 4.65384 11.5385C3.49999 11.5385 2.34614 11.0769 1.1923 10.6154C1.1923 14.0769 3.73076 17.3077 7.1923 18.2308C6.03845 18.4615 4.88461 18.6923 3.73076 18.4615C4.65384 21.4615 7.42307 23.7692 10.8846 23.7692C8.11537 25.8462 3.96153 27 0.0384521 26.5385C3.49999 28.6154 7.42307 30 11.5769 30C25.6538 30 33.5 18.2308 33.0384 7.38461C34.6538 6.46154 36.0385 5.07692 36.9615 3.46154Z" fill="#4488EE"/>
          </svg>
        </nuxt-link>
        <nuxt-link to="/">
          <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 2.71084C18.9759 2.71084 19.5181 2.71084 21.1446 2.71084C22.5904 2.71084 23.3133 3.07229 23.8554 3.25301C24.5783 3.61446 25.1205 3.79518 25.6627 4.33735C26.2048 4.87952 26.5663 5.42169 26.747 6.14458C26.9277 6.68675 27.1084 7.40964 27.2892 8.85542C27.2892 10.4819 27.2892 10.8434 27.2892 15C27.2892 19.1566 27.2892 19.5181 27.2892 21.1446C27.2892 22.5904 26.9277 23.3133 26.747 23.8554C26.3855 24.5783 26.2048 25.1205 25.6627 25.6627C25.1205 26.2048 24.5783 26.5663 23.8554 26.747C23.3133 26.9277 22.5904 27.1084 21.1446 27.2892C19.5181 27.2892 19.1566 27.2892 15 27.2892C10.8434 27.2892 10.4819 27.2892 8.85542 27.2892C7.40964 27.2892 6.68675 26.9277 6.14458 26.747C5.42169 26.3855 4.87952 26.2048 4.33735 25.6627C3.79518 25.1205 3.43374 24.5783 3.25301 23.8554C3.07229 23.3133 2.89157 22.5904 2.71084 21.1446C2.71084 19.5181 2.71084 19.1566 2.71084 15C2.71084 10.8434 2.71084 10.4819 2.71084 8.85542C2.71084 7.40964 3.07229 6.68675 3.25301 6.14458C3.61446 5.42169 3.79518 4.87952 4.33735 4.33735C4.87952 3.79518 5.42169 3.43374 6.14458 3.25301C6.68675 3.07229 7.40964 2.89157 8.85542 2.71084C10.4819 2.71084 11.0241 2.71084 15 2.71084ZM15 0C10.8434 0 10.4819 0 8.85542 0C7.22892 0 6.14458 0.361447 5.24097 0.722893C4.33735 1.08434 3.43374 1.62651 2.53012 2.53012C1.62651 3.43374 1.26506 4.15663 0.722893 5.24097C0.361447 6.14458 0.180723 7.22892 0 8.85542C0 10.4819 0 11.0241 0 15C0 19.1566 0 19.5181 0 21.1446C0 22.7711 0.361447 23.8554 0.722893 24.759C1.08434 25.6627 1.62651 26.5663 2.53012 27.4699C3.43374 28.3735 4.15663 28.7349 5.24097 29.2771C6.14458 29.6386 7.22892 29.8193 8.85542 30C10.4819 30 11.0241 30 15 30C18.9759 30 19.5181 30 21.1446 30C22.7711 30 23.8554 29.6386 24.759 29.2771C25.6627 28.9157 26.5663 28.3735 27.4699 27.4699C28.3735 26.5663 28.7349 25.8434 29.2771 24.759C29.6386 23.8554 29.8193 22.7711 30 21.1446C30 19.5181 30 18.9759 30 15C30 11.0241 30 10.4819 30 8.85542C30 7.22892 29.6386 6.14458 29.2771 5.24097C28.9157 4.33735 28.3735 3.43374 27.4699 2.53012C26.5663 1.62651 25.8434 1.26506 24.759 0.722893C23.8554 0.361447 22.7711 0.180723 21.1446 0C19.5181 0 19.1566 0 15 0Z" fill="#EC3963"/>
            <path d="M15 7.22892C10.6627 7.22892 7.22892 10.6627 7.22892 15C7.22892 19.3374 10.6627 22.7711 15 22.7711C19.3374 22.7711 22.7711 19.3374 22.7711 15C22.7711 10.6627 19.3374 7.22892 15 7.22892ZM15 20.0602C12.2892 20.0602 9.93976 17.8916 9.93976 15C9.93976 12.2892 12.1084 9.93976 15 9.93976C17.7108 9.93976 20.0602 12.1084 20.0602 15C20.0602 17.7108 17.7108 20.0602 15 20.0602Z" fill="#EC3963"/>
            <path d="M22.9518 8.85542C23.9499 8.85542 24.759 8.0463 24.759 7.04819C24.759 6.05009 23.9499 5.24097 22.9518 5.24097C21.9537 5.24097 21.1446 6.05009 21.1446 7.04819C21.1446 8.0463 21.9537 8.85542 22.9518 8.85542Z" fill="#EC3963"/>
          </svg>
        </nuxt-link>
      </nav>
    </div>
  </header>
</template>
<script>
export default {
  data(){
    return {
      scrolled: false
    }
  },
  methods: {
    play(){
      if(this.$refs.audio.currentTime === 0){
        this.$refs.audio.play()
        this.$refs.audio.volume = 0.5;
        this.$refs.audioBtn.classList.add('active')
      } else {
        this.$refs.audio.pause()
        this.$refs.audio.currentTime = 0
      }
      this.$refs.audio.onpause = () => {
        this.$refs.audioBtn.classList.remove('active')
      }
    }
  },
  mounted(){
    document.addEventListener('click', e => {
      if(!this.scrolled){
        this.scrolled = true
        this.play()
      }
    })
  }
}
</script>
<style lang="scss" scoped>
.header{
  padding: 20px 0;
  @media(min-width:768px){
    padding: 30px 0;
  }
  .container{
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
  }
  &-menu{
    display: flex;
    justify-content: space-between;
    a{
      width: 55px;
      height: 83px;
      border: 3px solid #2B2B2B;
      border-radius: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: border-color .5s ease;
      @media(min-width:768px){
        width: 73px;
        height: 108px;
      }
      &:not(:first-child) {
        margin-left: 10px;
        @media(min-width:768px){
          margin-left: 30px;
        }
      }
      &:hover{
        border-color: #FEEF00;
      }
    }
  }
  audio{
    position: absolute;
    left: -1000px;
    opacity: 0;
  }
}
.audio{
  display: flex;
  background: none;
  padding: 0;
  border: none;
  justify-content: space-between;
  align-items: center;
  span{
    background: #4488EE;
    display: block;
    width: 4px;
    height: 20px;
    transition: .5s ease;
    pointer-events: none;
    &:not(:first-child){
      margin-left: 6px;
    }
  }
  &:hover, &.active{
    span{
      background: #FEEF00;
      &:nth-child(1){height: 33px;}
      &:nth-child(2){height: 45px;}
      &:nth-child(3){height: 23px;}
    }
  }
}
</style>